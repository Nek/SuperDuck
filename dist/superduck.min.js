/*! superduck - v0.1.0 - 2013-01-18
* https://github.com/nek/superduck
* Copyright (c) 2013 Nek; Licensed MIT */
var normalEquals=function(e){return e.every(function(t){return t==e[0]})},zip=function(e){return e[0].map(function(t,n){return e.map(function(e){return e[n]})})},type=function(e){return Object.prototype.toString.call(e)},allTrue=function(e){return e.reduce(function(e,t){return e&&t},!0)},superEquals=function(e){return type(e[0])==type([])&&normalEquals(e.map(type))&&normalEquals(e.map(function(e){return e.length}))?allTrue(zip(e).map(superEquals)):normalEquals(e)},superduck=function(){if(!(this instanceof superduck))return new superduck;this.$=function(){},this.destruct=function(e){var t=[],n=function(e,t){return t===undefined?function(t){return t[e]}:(t=t.slice(0),function(n){var r=n,i,s;for(i=0,s=t.length;i<s;i++)r=r[t[i]];if(r!==undefined)return r[e]})},r=this,i=function(e,t,s){var o=Object.keys(e),u,a;for(u=0,a=o.length;u<a;u++){var f=e[o[u]];f===r.$?t.push(n(o[u],s)):f!==null&&typeof f=="object"&&(s===undefined||s.length===0?s=[o[u]]:s.push(o[u]),i(f,t,s))}s!==undefined&&s.pop()};i(e,t);var s=function(e){var n=[],r,i;for(r=0,i=t.length;r<i;r++)n.push(t[r](e));return n};return function(e,t){t.apply(e,s(e))}},this.match=function(e){var t=Object.keys(e),n=function(n){var r=Object.keys(n);return superEquals([n[t[0]],e[t[0]]])&&superEquals([n[t[1]],e[t[1]]])&&r.length===t.length};return function(e,t){n(e)?t(!0):t(!1)}}};(function(e){"use strict";typeof exports!="undefined"?exports=module.exports=superduck:e.superduck=superduck})(this);